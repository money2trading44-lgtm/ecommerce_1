{% extends 'shop/base.html' %}
{% load static %}
{% block title %}DSD General Trading - Draps de Luxe & T√©l√©phones High-Tech √† Abidjan{% endblock %}

{% block description %}Boutique en ligne DSD General Trading √† Abidjan : draps de qualit√© premium, t√©l√©phones derni√®re g√©n√©ration et service de r√©paration expert. Livraison rapide en C√¥te d'Ivoire.{% endblock %}


{% block content %}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12">

    <!-- HERO SECTION -->
    <section class="relative rounded-xl overflow-hidden mb-8 sm:mb-12">
        <div class="absolute inset-0 bg-gradient-to-r from-primary to-blue-600"></div>
        <div class="relative flex flex-col items-center justify-center min-h-[400px] sm:min-h-[500px] text-center p-6 sm:p-8">
            <div class="mb-6 sm:mb-8">
                <div class="text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-2">DSD General Trading</div>
            </div>
            <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-extrabold text-white leading-tight tracking-tight mb-4">
                Confort & Technologie
                <span class="block text-xl sm:text-2xl md:text-3xl mt-2 font-light">R√©unis</span>
            </h1>
            <p class="mt-4 max-w-2xl text-base sm:text-lg md:text-xl text-slate-100">D√©couvrez l'excellence dans chaque d√©tail : draps de luxe, t√©l√©phones high-tech et service de r√©paration expert.</p>
            <div class="mt-6 sm:mt-8 flex flex-col sm:flex-row gap-3 sm:gap-4">
                <a class="bg-white text-primary font-bold py-2 sm:py-3 px-6 sm:px-8 rounded-full hover:bg-slate-100 transition-all duration-300 transform hover:scale-105 text-sm sm:text-base"
                   href="#prestations">
                    Nos Prestations
                </a>
                <a class="border-2 border-white text-white font-bold py-2 sm:py-3 px-6 sm:px-8 rounded-full hover:bg-white hover:text-primary transition-all duration-300 text-sm sm:text-base"
                   href="{% url 'shop:repair_request' %}">
                    R√©paration Express
                </a>
            </div>
        </div>
    </section>

    <!-- PRESTATIONS SECTION -->
    <section class="mb-12 sm:mb-16" id="prestations">
        <div class="text-center mb-8 sm:mb-12">
            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-4">Nos Prestations</h2>
            <p class="text-base sm:text-lg text-slate-600 max-w-2xl mx-auto px-4">D√©couvrez nos trois p√¥les d'expertise pour r√©pondre √† tous vos besoins</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8">
            <!-- Vente de Draps -->
            <div class="group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1 sm:hover:-translate-y-2 prestation-card">
                <div class="relative h-48 sm:h-56 md:h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
                         alt="Draps de qualit√© - DSD General Trading Abidjan"
                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                        loading="lazy" width="400" height="300">
                    <div class="absolute inset-0 bg-primary/20 group-hover:bg-primary/10 transition-colors"></div>
                    <div class="absolute top-3 sm:top-4 left-3 sm:left-4">
                        <span class="bg-white/90 text-primary font-bold px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm backdrop-blur-sm">
                            üõèÔ∏è Confort
                        </span>
                    </div>
                </div>
                <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold text-slate-900 mb-3">Draps de Luxe</h3>
                    <p class="text-slate-600 mb-4 leading-relaxed text-sm sm:text-base">
                        D√©couvrez notre collection exclusive de draps en coton √©gyptien et mati√®res premium.
                        Confort optimal et qualit√© exceptionnelle pour vos nuits.
                    </p>
                    <ul class="space-y-2 mb-4 sm:mb-6">
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Coton √©gyptien 100%
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Toutes tailles disponibles
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Livraison rapide
                        </li>
                    </ul>
                    <a href="{% url 'shop:sheets_list' %}"
                       class="inline-flex items-center justify-center w-full bg-primary text-white font-semibold py-2 sm:py-3 px-4 sm:px-6 rounded-lg hover:bg-blue-700 transition-colors group text-sm sm:text-base">
                        Voir la collection
                        <span class="material-symbols-outlined ml-2 group-hover:translate-x-1 transition-transform text-sm sm:text-base">arrow_forward</span>
                    </a>
                </div>
            </div>

            <!-- Vente de T√©l√©phones -->
            <div class="group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1 sm:hover:-translate-y-2 prestation-card">
                <div class="relative h-48 sm:h-56 md:h-64 overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80"
                         alt="T√©l√©phones high-tech"
                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                        loading="lazy" width="400" height="300">
                    <div class="absolute inset-0 bg-purple-500/20 group-hover:bg-purple-500/10 transition-colors"></div>
                    <div class="absolute top-3 sm:top-4 left-3 sm:left-4">
                        <span class="bg-white/90 text-purple-600 font-bold px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm backdrop-blur-sm">
                            üì± Technologie
                        </span>
                    </div>
                </div>
                <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold text-slate-900 mb-3">T√©l√©phones High-Tech</h3>
                    <p class="text-slate-600 mb-4 leading-relaxed text-sm sm:text-base">
                        Les derniers smartphones des grandes marques. Performances, design et innovation
                        au service de votre quotidien connect√©.
                    </p>
                    <ul class="space-y-2 mb-4 sm:mb-6">
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Derni√®res sorties
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Garantie 2 ans
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Prix comp√©titifs
                        </li>
                    </ul>
                    <a href="{% url 'shop:phones_list' %}"
                       class="inline-flex items-center justify-center w-full bg-purple-600 text-white font-semibold py-2 sm:py-3 px-4 sm:px-6 rounded-lg hover:bg-purple-700 transition-colors group text-sm sm:text-base">
                        D√©couvrir les mod√®les
                        <span class="material-symbols-outlined ml-2 group-hover:translate-x-1 transition-transform text-sm sm:text-base">arrow_forward</span>
                    </a>
                </div>
            </div>

            <!-- Service de R√©paration -->
            <div class="group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1 sm:hover:-translate-y-2 prestation-card md:col-span-2 xl:col-span-1">
                <div class="relative h-48 sm:h-56 md:h-64 overflow-hidden">
                    <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fbo.reparation-telephone-toulouse.fr%2Fwp-content%2Fuploads%2F2021%2F08%2Fkilian-seiler-PZLgTUAhxMM-unsplash-scaled.jpg%3Fw%3D640%26q%3D75&f=1&nofb=1&ipt=b2a604b8fe7b6f62c087dd83ab05b482a3ab0a12e0fb1ed558dbca8ad74f7424"
                         alt="Service de r√©paration"
                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                        loading="lazy" width="400" height="300">
                    <div class="absolute inset-0 bg-green-500/20 group-hover:bg-green-500/10 transition-colors"></div>
                    <div class="absolute top-3 sm:top-4 left-3 sm:left-4">
                        <span class="bg-white/90 text-green-600 font-bold px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm backdrop-blur-sm">
                            üîß Expertise
                        </span>
                    </div>
                </div>
                <div class="p-4 sm:p-6">
                    <h3 class="text-lg sm:text-xl font-bold text-slate-900 mb-3">R√©paration Express</h3>
                    <p class="text-slate-600 mb-4 leading-relaxed text-sm sm:text-base">
                        Service de r√©paration rapide et fiable pour tous vos appareils.
                        √âcrans, batteries, composants... Nous r√©parons tout !
                    </p>
                    <ul class="space-y-2 mb-4 sm:mb-6">
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            R√©paration express 24h
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Pi√®ces d'origine
                        </li>
                        <li class="flex items-center text-xs sm:text-sm text-slate-600">
                            <span class="material-symbols-outlined text-green-500 mr-2 text-sm sm:text-base">check_circle</span>
                            Garantie sur r√©paration
                        </li>
                    </ul>
                    <a href="{% url 'shop:repair_request' %}"
                       class="inline-flex items-center justify-center w-full bg-green-600 text-white font-semibold py-2 sm:py-3 px-4 sm:px-6 rounded-lg hover:bg-green-700 transition-colors group text-sm sm:text-base">
                        Demander un devis
                        <span class="material-symbols-outlined ml-2 group-hover:translate-x-1 transition-transform text-sm sm:text-base">arrow_forward</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- PROMOTIONS SECTION -->
    <section class="mb-12 sm:mb-16">
        <div class="text-center mb-8 sm:mb-12">
            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-4">Promotions du Moment</h2>
            <p class="text-base sm:text-lg text-slate-600 max-w-2xl mx-auto px-4">Profitez de nos offres sp√©ciales sur une s√©lection de produits</p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6 sm:gap-8">
            {% for product in promotions %}
            <div class="bg-white border border-slate-200 rounded-2xl overflow-hidden group hover:shadow-xl transition-all duration-300">
                <div class="relative overflow-hidden">
                    {% if product.image %}
                        <img src="{{ product.image.url }}" alt="{{ product.name }}"
                             class="w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-500">
                    {% else %}
                        <div class="w-full h-40 sm:h-48 bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center">
                            <span class="text-3xl sm:text-4xl text-slate-400">
                                {% if product.product_type == 'SHEET' %}üõèÔ∏è
                                {% elif product.product_type == 'PHONE' %}üì±
                                {% else %}üîß{% endif %}
                            </span>
                        </div>
                    {% endif %}

                    {% if product.on_sale %}
                    <div class="absolute top-3 left-3">
                        <span class="bg-red-500 text-white font-bold px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm shadow-lg">
                            -{{ product.discount_percentage }}%
                        </span>
                    </div>
                    {% endif %}
                </div>

                <div class="p-4 sm:p-6">
                    <div class="flex items-start justify-between mb-3">
                        <h3 class="font-bold text-base sm:text-lg text-slate-900 pr-2 line-clamp-2">{{ product.name }}</h3>
                        <span class="bg-slate-100 text-slate-700 text-xs font-medium px-2 py-1 rounded shrink-0">
                            {% if product.product_type == 'SHEET' %}Draps
                            {% else %}T√©l√©phone{% endif %}
                        </span>
                    </div>

                    <p class="text-xs sm:text-sm text-slate-500 mb-4 line-clamp-2">{{ product.description|truncatewords:15 }}</p>

                    <div class="flex items-center gap-3 mb-4">
                        {% if product.on_sale %}
                            <span class="text-lg sm:text-xl font-bold text-primary">{{ product.get_discounted_price|floatformat:2 }} FCFA</span>
                            <span class="text-xs sm:text-sm text-red-500 line-through">{{ product.price|floatformat:2 }} FCFA</span>
                        {% else %}
                            <span class="text-lg sm:text-xl font-bold text-slate-900">{{ product.price|floatformat:2 }} FCFA</span>
                        {% endif %}
                    </div>

                    <div class="flex gap-2">
                        <a class="flex-1 bg-slate-100 text-slate-700 font-medium py-2 px-3 sm:px-4 rounded-lg hover:bg-slate-200 transition-colors text-xs sm:text-sm text-center"
                           href="{% url 'shop:product_detail' product_id=product.id %}">
                            Voir d√©tails
                        </a>
                        {% if product.stock > 0 %}
                            <button type="button"
                                    data-add-to-cart
                                    data-product-id="{{ product.id }}"
                                    class="flex-1 bg-primary text-white font-medium py-2 px-3 sm:px-4 rounded-lg hover:bg-blue-700 transition-colors text-xs sm:text-sm flex items-center justify-center gap-1">
                                <span class="material-symbols-outlined text-sm sm:text-base">shopping_cart</span>
                                Ajouter
                            </button>
                        {% else %}
                            <button class="flex-1 bg-slate-300 text-slate-500 font-medium py-2 px-3 sm:px-4 rounded-lg text-xs sm:text-sm cursor-not-allowed" disabled>
                                Indisponible
                            </button>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-span-1 sm:col-span-2 xl:col-span-3 text-center py-8 sm:py-12">
                <div class="max-w-md mx-auto">
                    <span class="material-symbols-outlined text-4xl sm:text-6xl text-slate-300 mb-4">local_offer</span>
                    <h3 class="text-lg sm:text-xl font-semibold text-slate-700 mb-2">Aucune promotion en cours</h3>
                    <p class="text-slate-500 mb-6 text-sm sm:text-base">Revenez bient√¥t pour d√©couvrir nos offres sp√©ciales !</p>
                    <a href="{% url 'shop:home' %}" class="text-primary hover:underline font-medium text-sm sm:text-base">
                        Voir tous nos produits
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- AVANTAGES SECTION -->
    <section class="bg-gradient-to-br from-slate-50 to-blue-50 rounded-2xl p-6 sm:p-8 lg:p-12">
        <div class="text-center mb-8 sm:mb-12">
            <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-4">Pourquoi Nous Choisir ?</h2>
            <p class="text-base sm:text-lg text-slate-600 max-w-2xl mx-auto px-4">L'excellence et la fiabilit√© au c≈ìur de notre engagement</p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8">
            <div class="text-center">
                <div class="bg-white rounded-xl p-3 sm:p-4 inline-flex items-center justify-center mb-3 sm:mb-4 shadow-lg">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-primary">local_shipping</span>
                </div>
                <h3 class="font-bold text-slate-900 mb-2 text-sm sm:text-base">Livraison Rapide</h3>
                <p class="text-slate-600 text-xs sm:text-sm">Exp√©dition sous 24h pour tous nos produits en stock</p>
            </div>

            <div class="text-center">
                <div class="bg-white rounded-xl p-3 sm:p-4 inline-flex items-center justify-center mb-3 sm:mb-4 shadow-lg">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-primary">verified</span>
                </div>
                <h3 class="font-bold text-slate-900 mb-2 text-sm sm:text-base">Garantie √âtendue</h3>
                <p class="text-slate-600 text-xs sm:text-sm">2 ans de garantie sur tous nos produits neufs</p>
            </div>

            <div class="text-center">
                <div class="bg-white rounded-xl p-3 sm:p-4 inline-flex items-center justify-center mb-3 sm:mb-4 shadow-lg">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-primary">support_agent</span>
                </div>
                <h3 class="font-bold text-slate-900 mb-2 text-sm sm:text-base">Support Expert</h3>
                <p class="text-slate-600 text-xs sm:text-sm">√âquipe technique √† votre √©coute 6j/7</p>
            </div>

            <div class="text-center">
                <div class="bg-white rounded-xl p-3 sm:p-4 inline-flex items-center justify-center mb-3 sm:mb-4 shadow-lg">
                    <span class="material-symbols-outlined text-2xl sm:text-3xl text-primary">payments</span>
                </div>
                <h3 class="font-bold text-slate-900 mb-2 text-sm sm:text-base">Paiement S√©curis√©</h3>
                <p class="text-slate-600 text-xs sm:text-sm">Transactions 100% s√©curis√©es et crypt√©es</p>
            </div>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Fonction pour le scroll fluide
function smoothScrollTo(targetId) {
    const targetElement = document.getElementById(targetId);
    if (targetElement) {
        const headerHeight = 80;
        const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;

        window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
        });
    }
}

// Observer pour les animations au scroll
function initScrollAnimations() {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });

    document.querySelectorAll('.prestation-card').forEach(card => {
        observer.observe(card);
    });
}

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', function() {
    // Gestion du scroll fluide pour le bouton "Nos Prestations"
    const prestationsButton = document.querySelector('a[href="#prestations"]');
    if (prestationsButton) {
        prestationsButton.addEventListener('click', function(e) {
            e.preventDefault();
            smoothScrollTo('prestations');
            this.classList.add('active');
            setTimeout(() => this.classList.remove('active'), 1000);
        });
    }

    // Initialiser les animations au scroll
    initScrollAnimations();

    // Les boutons "Ajouter au panier" sont g√©r√©s automatiquement par base.html
});
</script>

<style>
/* Styles pour les tr√®s petits √©crans */
@media (max-width: 480px) {
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* Ajustements pour tablettes */
@media (min-width: 768px) and (max-width: 1024px) {
    .prestation-card {
        margin-bottom: 1rem;
    }
}
</style>
{% endblock %}